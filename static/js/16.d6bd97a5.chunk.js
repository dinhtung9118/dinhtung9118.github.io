(this["webpackJsonpweb-doctor"]=this["webpackJsonpweb-doctor"]||[]).push([[16],{311:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(16),c=a(136),r=a(0);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(c.b)(),o=Object(r.useState)(),l=Object(n.a)(o,2),i=l[0],u=l[1];return e=Object(r.useCallback)(e,t),Object(r.useEffect)((function(){a.push(e().then(u))}),[a,e]),i}},355:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(258),c=Object(n.a)((function(e){return{root:{paddingTop:e.spacing(2),background:e.palette.common.white,height:"100%"},link:{textDecoration:"none",color:e.palette.primary.main}}}))},583:function(e,t,a){"use strict";a.r(t);var n=a(76),c=a(16),r=a(0),o=a.n(r),l=a(20),i=a(59),u=a(31),s=a(247),d=a(579),m=a(580),f=a(123),b=a(288),E=a(80),p=a.n(E),v=a(88),h=a(311),g=a(34),j=a(61),D=a(400),O=a(334),x=a(336),y=a.n(x),C=a(22),I=a(376),k=a.n(I),w=a(21),T=a(355);t.default=function(){var e=Object(u.a)(),t=Object(T.a)(),a=Object(l.g)(),E=[{text:"Active",id:C.a.ACTIVE,color:e.palette.success.main},{text:"Inactive",id:C.a.INACTIVE,color:e.palette.text.disabled}],x=o.a.useState((function(){return new Date})),I=Object(c.a)(x,2),S=I[0],A=I[1],V=Object(r.useState)({startDay:8,endDay:18,schedules:[]}),M=Object(c.a)(V,2),F=M[0],H=M[1],N=Object(g.d)(),Y=Object(c.a)(N,1)[0],W=Object(r.useState)(!1),J=Object(c.a)(W,2),P=J[0],R=J[1],q=Object(r.useState)(),G=Object(c.a)(q,2),L=G[0],z=G[1],B={doctorId:Y.account.externalId,offset:0,limit:250},K=Object(h.a)((function(){return v.doctor.getConsultationWorkingTime(B)}));Object(r.useEffect)((function(){K&&z(K.data)}),[K]),Object(r.useEffect)((function(){if(L){var e=8,t=18,a=j.a.toSchedule(L||[]).map((function(a){var n=a.startDate.getHours(),c=a.endDate.getHours()+1;return e>n&&(e=n),t<c&&(t=c),a}));H({startDay:e,endDay:t,schedules:a})}}),[L]);var Q=[{fieldName:"status",instances:E}],U=function(e){var a,c=null===(a=e.appointmentData)||void 0===a?void 0:a.working,r=(new Date).getTime()>new Date(c.date).getTime()+c.to;if(c&&!c)return o.a.createElement(o.a.Fragment,null);var l=j.a.minusFormat(c.from||0)||"",u=j.a.minusFormat(c.to||0)||"";return o.a.createElement(s.a,{p:2},o.a.createElement(s.a,{alignItems:"center",display:"flex",flexDirection:"row",mb:1},o.a.createElement(s.a,{width:"1.5em",height:"1.5em",bgcolor:"ACTIVE"===c.status?"success.main":"text.disabled",borderRadius:"50%"}),o.a.createElement(s.a,{ml:1},p()(c.date).format("DD MMMM YYYY"))),o.a.createElement(s.a,{alignItems:"center",display:"flex",flexDirection:"row"},o.a.createElement(s.a,{mr:1},o.a.createElement(y.a,null)),o.a.createElement(s.a,null,l," - ",u)),o.a.createElement(s.a,{alignItems:"center",display:"flex",flexDirection:"row"},o.a.createElement(s.a,{mr:1},o.a.createElement(k.a,null)),o.a.createElement(i.b,{className:t.link,to:"".concat(w.a.consultationSchedule,"?date=").concat(c.date)},"Go to Consultation Schedule")),o.a.createElement(s.a,{mb:2},o.a.createElement(d.a,{control:o.a.createElement(m.a,{checked:P,disabled:r,onChange:function(){return e=c,R(!P),void v.doctor.updateWorkingTime(e).then((function(e){var t=L||[],a=t.findIndex((function(t){return e.id===t.id}));(null===t||void 0===t?void 0:t.length)>0&&-1!==a&&(t[a]=e,z(Object(n.a)(t)))}));var e},name:"activeWorking",color:"secondary"}),label:c.status===C.d.ACTIVE?"Active":"Inactive"})))};return o.a.createElement(f.a,null,o.a.createElement(s.a,{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",pt:2,pr:2},o.a.createElement(b.a,{onClick:function(){a.push({hash:w.a.consultationCreate})},variant:"contained",color:"primary",type:"submit"},"T\u1ea1o L\u1ecbch T\u01b0 V\u1ea5n")),o.a.createElement(D.f,{data:F.schedules},o.a.createElement(O.q,{currentDate:S,onCurrentDateChange:A}),o.a.createElement(D.h,{flexibleSpaceComponent:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{flex:1}))}}),o.a.createElement(D.i,{key:S.toString(),startDayHour:F.startDay,endDayHour:F.endDay}),o.a.createElement(D.d,null),o.a.createElement(D.g,null),o.a.createElement(D.b,null),o.a.createElement(D.e,{data:Q,mainResourceName:"status"}),o.a.createElement(D.a,{onAppointmentMetaChange:function(e){var t,a;console.log(e.data);var n=null===(t=e.data)||void 0===t||null===(a=t.appointmentData)||void 0===a?void 0:a.data;R((null===n||void 0===n?void 0:n.status)===C.d.ACTIVE)},contentComponent:function(e){return U(e)}}),o.a.createElement(D.c,{shadePreviousCells:!0,shadePreviousAppointments:!0,updateInterval:1e4})))}}}]);
//# sourceMappingURL=16.d6bd97a5.chunk.js.map