(this["webpackJsonpweb-doctor"]=this["webpackJsonpweb-doctor"]||[]).push([[17],{359:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"c",(function(){return O})),t.d(n,"e",(function(){return E})),t.d(n,"f",(function(){return C})),t.d(n,"g",(function(){return x})),t.d(n,"b",(function(){return y})),t.d(n,"d",(function(){return w}));var a=t(16),r=t(133),i=t(0),o=t.n(i),c=t(239),l=t(247),u=t(249),s=t(292),m=t(242),d=t(46),p=function(e){var n=e.error,t=Object(r.a)(e,["error"]),i=Object(d.e)(),p=i.config.academicLevel,f=i.component.inputs.academicRank,v=f.errors,b=void 0===v?{}:v;return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{error:!!n},f.label),o.a.createElement(l.a,{height:"0px",visibility:"hidden",px:4},f.label),o.a.createElement(u.a,Object.assign({name:"academicRank",color:"primary",label:f.label,placeholder:f.placeholder,error:!!n},t,{value:t.value||""}),Object.entries(p).map((function(e){var n=Object(a.a)(e,2),t=n[0],r=n[1];return o.a.createElement(s.a,{key:t,value:t},r)}))),n&&o.a.createElement(m.a,{error:!!n},b[n]))},f=t(240),v=t(592),b=t(579),g=t(586),O=function(e){var n=e.error,t=Object(r.a)(e,["error"]),i=Object(d.e)(),c=i.config.gender,u=i.component.inputs,s=u.gender.errors,p=void 0===s?{}:s;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{display:"flex",alignItems:"center",justifyContent:"flex-end"},o.a.createElement(f.a,{error:!!n},u.gender.label),o.a.createElement(l.a,{pr:2}),o.a.createElement(v.a,t,Object.entries(c).map((function(e){var n=Object(a.a)(e,2),t=n[0],r=n[1];return o.a.createElement(b.a,{key:t,value:t,control:o.a.createElement(g.a,{size:"small"}),label:r})})))),n&&o.a.createElement(m.a,{error:!!n,style:{textAlign:"right"}},p[n]))},j=t(589),h=t(284),E=function(e){var n=e.onChange,t=e.error,c=Object(r.a)(e,["onChange","error"]),l=Object(d.e)(),u=l.config.nations,s=l.component.inputs,m=s.nation.errors,p=void 0===m?{}:m,f=Object(i.useMemo)((function(){return Object.entries(u)}),[u]);return o.a.createElement(j.a,{options:f,value:f.find((function(e){return Object(a.a)(e,1)[0]===c.value}))||null,getOptionLabel:function(e){return Object(a.a)(e,2)[1]},filterSelectedOptions:!0,onChange:function(e,t){return n(null===t||void 0===t?void 0:t.first)},renderInput:function(e){return o.a.createElement(h.a,Object.assign({},e,{size:"small",variant:"outlined",label:s.nation.label,error:!!t,helperText:t?p[t]:""},c))}})},C=function(e){var n=Object.assign({},e),t=Object(d.e)(),r=t.config.nationality,c=t.component.inputs,l=c.nationality.errors,u=void 0===l?{}:l,s=Object(i.useMemo)((function(){return Object.entries(r)}),[r]);return o.a.createElement(j.a,{options:s,value:s.find((function(e){return Object(a.a)(e,1)[0]===n.value}))||null,getOptionLabel:function(e){return Object(a.a)(e,2)[1]},filterSelectedOptions:!0,onChange:function(e,t){return n.onChange(null===t||void 0===t?void 0:t.first)},renderInput:function(e){return o.a.createElement(h.a,Object.assign({},e,{size:"small",variant:"outlined",label:c.nationality.label,error:!!n.error,helperText:n.error?u[n.error]:""}))}})},x=function(e){var n=Object(d.e)(),t=n.config.hospital,r=n.component.inputs,c=r.workplace.errors,l=void 0===c?{}:c,u=Object(i.useMemo)((function(){return Object.entries(t)}),[t]),s=Object(i.useMemo)((function(){return u.filter((function(n){var t=Object(a.a)(n,1)[0];return e.value?e.value.includes(t):null}))}),[u,e.value]);return o.a.createElement(j.a,{options:u,value:s,getOptionLabel:function(e){return Object(a.a)(e,2)[1]},filterSelectedOptions:!0,multiple:!0,onChange:function(n,t){return e.onChange(null===t||void 0===t?void 0:t.map((function(e){return Object(a.a)(e,1)[0]})))},renderInput:function(n){return o.a.createElement(h.a,Object.assign({},n,{size:"small",variant:"outlined",label:r.workplace.label,error:!!e.error,helperText:e.error?l[e.error]:""}))}})},y=function(e){var n=Object(d.e)(),t=n.config.diseases,r=n.component.inputs,c=r.diseases.errors,l=void 0===c?{}:c,u=Object(i.useMemo)((function(){return Object.entries(t)}),[t]),s=Object(i.useMemo)((function(){return u.filter((function(n){var t=Object(a.a)(n,1)[0];return e.value.includes(t)}))}),[u,e.value]);return o.a.createElement(j.a,{options:u,value:s,getOptionLabel:function(e){return Object(a.a)(e,2)[1]},filterSelectedOptions:!0,multiple:!0,onChange:function(n,t){return e.onChange(null===t||void 0===t?void 0:t.map((function(e){return Object(a.a)(e,1)[0]})))},renderInput:function(n){return o.a.createElement(h.a,Object.assign({},n,{size:"small",variant:"outlined",label:r.diseases.label,error:!!e.error,helperText:e.error?l[e.error]:""}))}})},w=function(e){var n,t=e.onChange,c=e.error,l=Object(r.a)(e,["onChange","error"]),u=Object(d.e)(),s=u.config.jobTitle,m=u.component.inputs,p=m.jobTitle.errors,f=void 0===p?{}:p,v=Object(i.useMemo)((function(){return Object.entries(s)}),[s]);return o.a.createElement(j.a,{options:v,value:null!==(n=v.find((function(e){return Object(a.a)(e,1)[0]===l.value})))&&void 0!==n?n:null,getOptionLabel:function(e){return Object(a.a)(e,2)[1]},filterSelectedOptions:!0,onChange:function(e,n){return t(null===n||void 0===n?void 0:n.first)},renderInput:function(e){return o.a.createElement(h.a,Object.assign({},e,{size:"small",variant:"outlined",label:m.jobTitle.label,error:!!c,helperText:c?f[c]:""},l))}})}},588:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),i=t(6),o=t(16),c=t(0),l=t.n(c),u=t(258),s=t(368),m=t(87),d=t(402),p=t(288),f=t(88),v=t(11),b=t(146),g=t(284),O=t(289),j=t(235),h=t(237),E=t(526),C=t.n(E),x=t(359),y=t(43),w=t(46),k=["firstName","lastName","phoneNumber"];function T(e){var n=e.children,t=e.values,a=e.errors,r=e.touched,i=e.handleSubmit,o=e.handleChange,c=Object(w.e)().component.accountForm;return l.a.createElement("form",{onSubmit:i},l.a.createElement(O.a,{container:!0,spacing:2},k.map((function(e){var n=t[e],i=a[e],u=r[e],s=!(!i||!u),m=function(e){switch(e){case"firstName":return c.firstName.label;case"lastName":return c.lastName.label;case"phoneNumber":return c.phoneNumber.label;default:return e}}(e);return l.a.createElement(j.a,{key:e,margin:"dense",component:O.a,item:!0,xs:6},l.a.createElement(g.a,{size:"small",label:m,placeholder:m,variant:"outlined",color:"primary",name:e,value:n,onChange:o,error:s,helperText:s?i:""}))}))),n)}var z=new(t(22).c),N=Object(b.a)({mapPropsToValues:function(e){return Object(v.a)({},z,{},e.data)},validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(y.createValidation)(Object(v.a)({firstName:{required:y.validations.requireString},lastName:{required:y.validations.requireString}},e))}({}),handleSubmit:function(){var e=Object(i.a)(r.a.mark((function e(n,t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,(0,t.setSubmitting)(!0),e.next=4,a.submit(n);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),displayName:"DoctorForm"})((function(e){var n=e.children,t=e.handleChange,a=e.values,r=e.errors,i=e.touched,o=e.validateForm,c=e.specialties,u=Object(w.e)().component.doctorForm,s=Object(w.e)(),m=function(e){return i[e]?r[e]:void 0};return l.a.createElement(l.a.Fragment,null,l.a.createElement(T,e,l.a.createElement(O.a,{container:!0,spacing:2},l.a.createElement(j.a,{margin:"dense",component:O.a,item:!0,md:6},l.a.createElement(x.c,{row:!0,name:"genderCode",value:a.genderCode||"",onChange:t,error:m("genderCode")})),l.a.createElement(j.a,{margin:"none",size:"small",variant:"outlined",fullWidth:!0,component:O.a,item:!0,md:6},l.a.createElement(x.a,{name:"academicRankCode",value:a.academicRankCode,error:m("academicRankCode"),onChange:t})),l.a.createElement(j.a,{margin:"dense",size:"small",variant:"outlined",component:O.a,item:!0,xs:6},l.a.createElement(x.d,{name:"jobTitle",value:a.jobTitle,error:m("jobTitle"),onChange:function(e){a.jobTitle=e||"",o(a)}})),l.a.createElement(j.a,{margin:"dense",size:"small",variant:"outlined",component:O.a,item:!0,md:6},l.a.createElement(x.e,{name:"nationCode",value:a.nationCode,error:m("nationCode"),onChange:function(e){a.nationCode=e,o(a)}})),l.a.createElement(j.a,{margin:"dense",size:"small",variant:"outlined",component:O.a,item:!0,md:6},l.a.createElement(x.f,{name:"nationalityCode",value:a.nationalityCode,error:m("nationalityCode"),onChange:function(e){a.nationalityCode=e,o(a)}})),l.a.createElement(j.a,{margin:"dense",size:"small",variant:"outlined",component:O.a,item:!0,xs:12},l.a.createElement(x.g,{name:"workplace",value:a.workplace,error:m("workplace"),onChange:function(e){a.workplace=e||[],o(a)}})),l.a.createElement(j.a,{margin:"dense",size:"small",variant:"outlined",component:O.a,item:!0,xs:12},l.a.createElement(x.b,{name:"diseasesConsultantCode",value:a.diseasesConsultantCode,error:m("diseasesConsultantCode"),onChange:function(e){a.diseasesConsultantCode=e||[],o(a)}})),l.a.createElement(j.a,{variant:"outlined",margin:"dense",component:O.a,item:!0,xs:12},function(){var e=Boolean(r.specialties&&i.specialties);return l.a.createElement(C.a,{multiple:!0,options:c,value:a.specialties||[],getOptionLabel:function(e){return e.name||e.specialtyType},filterSelectedOptions:!0,onChange:function(e,n){a.specialties=n,o(a)},renderInput:function(n){var t;return l.a.createElement(g.a,Object.assign({},n,{size:"small",variant:"outlined",label:u.specialties.label,error:e,helperText:e?null===(t=u.specialties.errors)||void 0===t?void 0:t.required:""}))}})}()),l.a.createElement(j.a,{component:O.a,item:!0,md:12},l.a.createElement(h.a,{value:a.description,name:"description",onChange:t,title:"description",placeholder:"description",rowsMin:3,rowsMax:10,style:{resize:"none"}})),l.a.createElement(O.a,{item:!0,xs:12},l.a.createElement(p.a,{variant:"contained",color:"primary",type:"submit"},s.system.common.save))),n))})),S=t(34),I=Object(u.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},containerAvatar:{padding:e.spacing(1)},avatar:{width:e.spacing(10),height:e.spacing(10)},containerPage:{background:e.palette.common.white,width:"600px",height:"100%"}}}));n.default=function(){var e,n=I(),t=Object(S.d)(),a=Object(o.a)(t,1)[0],u=Object(c.useState)(),v=Object(o.a)(u,2),b=v[0],g=v[1],O=Object(w.e)();Object(c.useEffect)((function(){!function(){var e=Object(i.a)(r.a.mark((function e(){var n,t,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a?void 0:a.account)||!a.account.id){e.next=10;break}return e.next=3,f.doctor.single(null===a||void 0===a||null===(n=a.account)||void 0===n?void 0:n.id);case 3:return t=e.sent,e.next=6,f.specialties.querySpecialties();case 6:i=e.sent,o=i.data,y(t.avatar||""),g({specialties:o,data:t});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[null===a||void 0===a||null===(e=a.account)||void 0===e?void 0:e.id]);var j=Object(c.useRef)(null),h=Object(c.useRef)(null),E=Object(c.useState)(""),C=Object(o.a)(E,2),x=C[0],y=C[1],k=function(){var e=Object(i.a)(r.a.mark((function e(n){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.doctor.uploadAvatar(n.target.files[0],n.target.files[0].name);case 2:t=e.sent,y(t.fileUrl);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return l.a.createElement(s.a,{className:n.containerPage,component:"div"},l.a.createElement(m.a,{color:"inherit",variant:"subtitle1",component:"div"},O.pages.profileInfor.editInfor),l.a.createElement("div",null,l.a.createElement("div",{className:n.containerAvatar},l.a.createElement("form",{encType:"multipart/form-data",ref:h},l.a.createElement("input",{ref:j,hidden:!0,type:"file",onChange:k})),l.a.createElement(d.a,{className:n.avatar,src:x})),l.a.createElement("div",null,l.a.createElement(p.a,{onClick:function(){var e;return null===(e=j.current)||void 0===e?void 0:e.click()},size:"small",variant:"contained",color:"primary"},O.pages.profileInfor.editAvatar))),l.a.createElement(m.a,{color:"inherit",variant:"subtitle1",component:"div"},O.pages.profileInfor.infoDoctor),b&&l.a.createElement(N,Object.assign({submit:function(){var e=Object(i.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.avatar=x,e.t0=a,!e.t0){e.next=5;break}return e.next=5,f.doctor.update(a.account.id,n);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},b)))}}}]);
//# sourceMappingURL=17.ada7b810.chunk.js.map