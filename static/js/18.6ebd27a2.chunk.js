(this["webpackJsonpweb-doctor"]=this["webpackJsonpweb-doctor"]||[]).push([[18],{311:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(16),c=a(136),r=a(0);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(c.b)(),l=Object(r.useState)(),o=Object(n.a)(l,2),i=o[0],u=o[1];return e=Object(r.useCallback)(e,t),Object(r.useEffect)((function(){a.push(e().then(u))}),[a,e]),i}},578:function(e,t,a){"use strict";a.r(t);var n=a(76),c=a(16),r=a(0),l=a.n(r),o=a(21),i=a(59),u=a(258),s=a(31),m=a(247),d=a(579),f=a(580),b=a(288),E=a(123),h=a(80),p=a.n(h),v=a(88),g=a(311),j=a(34),D=a(61),O=a(400),I=a(334),k=a(336),x=a.n(k),C=a(22),y=a(376),w=a.n(y),T=a(20),S=a(313),A=a.n(S),M=a(319),V=Object(u.a)((function(e){return{link:{textDecoration:"none",color:e.palette.primary.main}}}));t.default=function(){var e=Object(s.a)(),t=V(),a=Object(o.h)().search.replace("?",""),u=[{text:"Active",id:C.a.ACTIVE,color:e.palette.success.main},{text:"Inactive",id:C.a.INACTIVE,color:e.palette.text.disabled}],h=l.a.useState((function(){return new Date})),k=Object(c.a)(h,2),y=k[0],S=k[1],F=Object(r.useState)({startDay:8,endDay:18,schedules:[]}),H=Object(c.a)(F,2),N=H[0],Y=H[1],R=Object(j.d)(),W=Object(c.a)(R,1)[0],J=Object(r.useState)(!1),P=Object(c.a)(J,2),q=P[0],B=P[1],G=Object(r.useState)(),K=Object(c.a)(G,2),z=K[0],L=K[1],Q=Object(o.g)(),U=A()(Object(M.parse)(a),"bookingId",""),X={doctorId:W.account.externalId,offset:0,limit:50},Z=Object(g.a)((function(){return v.doctor.getWorkingTime(X)}));Object(r.useEffect)((function(){Z&&L(Z.data)}),[Z]);Object(r.useEffect)((function(){if(z){var e=8,t=18,a=D.a.toSchedule(z||[]).map((function(a){var n=a.startDate.getHours(),c=a.endDate.getHours()+1;return e>n&&(e=n),t<c&&(t=c),a}));Y({startDay:e,endDay:t,schedules:a})}}),[z]);var $=[{fieldName:"status",instances:u}],_=function(e){var a,c=null===(a=e.appointmentData)||void 0===a?void 0:a.working,r=(new Date).getTime()>new Date(c.date).getTime()+c.to;if(c&&!c)return l.a.createElement(l.a.Fragment,null);var o=D.a.minusFormat(c.from||0)||"",u=D.a.minusFormat(c.to||0)||"";return l.a.createElement(m.a,{p:2},l.a.createElement(m.a,{alignItems:"center",display:"flex",flexDirection:"row",mb:1},l.a.createElement(m.a,{width:"1.5em",height:"1.5em",bgcolor:"ACTIVE"===c.status?"success.main":"text.disabled",borderRadius:"50%"}),l.a.createElement(m.a,{ml:1},p()(c.date).format("DD MMMM YYYY"))),l.a.createElement(m.a,{alignItems:"center",display:"flex",flexDirection:"row"},l.a.createElement(m.a,{mr:1},l.a.createElement(x.a,null)),l.a.createElement(m.a,null,o," - ",u)),l.a.createElement(m.a,{alignItems:"center",display:"flex",flexDirection:"row"},l.a.createElement(m.a,{mr:1},l.a.createElement(w.a,null)),l.a.createElement(i.b,{className:t.link,to:"".concat(T.a.consultationSchedule,"?date=").concat(c.date)},"Go to Consultation Schedule")),l.a.createElement(m.a,{mb:2},l.a.createElement(d.a,{control:l.a.createElement(f.a,{checked:q,disabled:r,onChange:function(){return e=c,B(!q),void v.doctor.updateWorkingTime(e).then((function(e){var t=z||[],a=t.findIndex((function(t){return e.id===t.id}));(null===t||void 0===t?void 0:t.length)>0&&-1!==a&&(t[a]=e,L(Object(n.a)(t)))}));var e},name:"activeWorking",color:"secondary"}),label:c.status===C.d.ACTIVE?"Active":"Inactive"})),U&&l.a.createElement(m.a,null,l.a.createElement(b.a,{onClick:function(){return function(e){Q.push({hash:T.a.ReExamintionBooking,search:"?bookingId=".concat(U),state:{workingTime:e}})}(c)}},l.a.createElement(m.a,{ml:1},l.a.createElement(m.a,null,"T\xe1i Kh\xe1m")))))};return l.a.createElement(E.a,null,l.a.createElement(O.f,{data:N.schedules},l.a.createElement(I.q,{currentDate:y,onCurrentDateChange:S}),l.a.createElement(O.h,{flexibleSpaceComponent:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{flex:1}))}}),l.a.createElement(O.i,{key:y.toString(),startDayHour:N.startDay,endDayHour:N.endDay}),l.a.createElement(O.d,null),l.a.createElement(O.g,null),l.a.createElement(O.b,null),l.a.createElement(O.e,{data:$,mainResourceName:"status"}),l.a.createElement(O.a,{onAppointmentMetaChange:function(e){var t,a,n=null===(t=e.data)||void 0===t||null===(a=t.appointmentData)||void 0===a?void 0:a.data;B((null===n||void 0===n?void 0:n.status)===C.d.ACTIVE)},contentComponent:function(e){return _(e)}}),l.a.createElement(O.c,{shadePreviousCells:!0,shadePreviousAppointments:!0,updateInterval:1e4})))}}}]);
//# sourceMappingURL=18.6ebd27a2.chunk.js.map